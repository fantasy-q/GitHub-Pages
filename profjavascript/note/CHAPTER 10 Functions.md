# 第十章 函数

- 函数是**对象**, 每个函数都是 `Function` 类型的实例, 也有**属性**和**方法**
- 函数定义通常以**声明**的形式定义, 也可以用**表达式**定义
  - 还有两种类似表达式的方式: **箭头函数**, **构造函数**
  - 这几种实例化的方式**存在**微妙但重要的**差异**

## 目录

- [第十章 函数](#第十章-函数)
  - [目录](#目录)
  - [箭头函数](#箭头函数)
  - [函数名](#函数名)
  - [理解参数](#理解参数)
  - [没有重载](#没有重载)
  - [默认参数值](#默认参数值)
  - [参数展开](#参数展开)
  - [声明 vs. 表达式](#声明-vs-表达式)
  - [函数作为值](#函数作为值)
  - [函数内部](#函数内部)
  - [函数属性与方法](#函数属性与方法)
  - [函数表达式](#函数表达式)
  - [递归](#递归)
  - [尾调用优化](#尾调用优化)
  - [闭包](#闭包)
  - [立即调用的函数表达式](#立即调用的函数表达式)
  - [私有变量](#私有变量)

## 箭头函数

- `ECAMScript 6` 新增 `fat-arrow (=>)` 语法定义**函数表达式**

	```js
let name = (param) => { function body }
	```
	
	- 只有一个**参数**, 可以省略括号
	- 只有一行**语句**, 可以省略大括号, 此时会隐式返回改行语句的**值**
	
- 箭头函数语法简洁

  - 但不能使用 `arguments, super, new.target`,
  - 不能当作构造函数, 没有 `prototype`

## 函数名

- 函数名是指向函数的**指针**, 意味着一个函数可以有多个名称
- 使用**不带括号**的函数名访问函数指针
- 所有函数对象只暴露一个 `name` 属性, 多数情况是函数**标识符**
  - 如使用 `Function` 创建, 则标识成 `"anonymous"`
  - `getter, setter, bind()` 分别对应 `get, set, bound`

## 理解参数

- `ECMAScript` 函数**不关心**参数的**数量**和**类型**
  - **定义**时的参数数量不等于**调用**时的参数数量
- 参数在函数内部表现为一个**数组**, 可以通过 `argument` 对象访问
  - 参数不限个数, 弥补不能重载的缺陷
  - `argument` 和**有名参数**保持同步, 但在内存中分开存储
- 箭头函数内部没有 `argument`
- 所有参数**按值传递**, 不可能按引用传递 (引用也是一个值)

## 没有重载

- `ECMAScript` 函数没有签名, 不能重载 (Overloading)
- 函数定义多次, 后定义的会**覆盖**先定义的

## 默认参数值

- `ES6` 支持**显式**定义默认参数
- 传 `undefined` 等于**不传值**
- `arguments` 对象不反映参数默认值
- 参数默认值可以是个**函数返回值**
- 默认参数作用域与暂时性死区
  - 默认参数是按顺序定义的, 且**不能**引用**函数体**作用域
  - **暂时性死区**即先定义的参数**不能**引用后定义的参数

## 实参展开 & 形参剩余

- **Spread Arguments** and **Rest Parameter**
- 通过展开操作符 `...`
  - 可以展开实际传入的数组, 将其元素一个个一次传入
  - 

## 声明 vs. 表达式

- `JavaScript` 引擎会先读取**函数声明**, 并会将其**提升**
- **函数表达式**则需要等到代码执行到那一行, 与 `let` 或 `var` 无关
- 除此之外, 两者等价

## 函数作为值

- **函数名是变量**, 所以函数可以用在任何可以使用变量的地方
  - 函数作为**参数**传给另一个函数
  - 在函数中**返回**另一个函数

## 函数内部

- `arguments`
  - 类数组对象, 包含**调用时**传入的所有参数, 箭头函数没有
  - 属性 `callee`: 指向**所在函数**的指针
- `this`
  - 在**标准函数**中与**箭头函数**中分别有不同行为
    - 标准函数: 把函数当成方法调用的**语境对象**, 称为 `this` 值
- `caller`

## 函数属性与方法

## 函数表达式

## 递归

## 尾调用优化

## 闭包

## 立即调用的函数表达式

## 私有变量

